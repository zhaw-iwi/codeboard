
<!-- the entire view is controlled by the IdeCtrl, as specified in the routes -->
<div class="ideSplitterFullHeight" ngsf-fullscreen="fullscreenCtrl">

  <!-- Start of Kendo splitter layout -->
  <div class="ideSplitterFullHeight">

     <!-- the outermost splitter that splits into header, middle, and footer -->
    <div kendo-splitter k-orientation="'vertical'" k-on-resize="splitterResizeEvent()" k-panes='[{resizable: false, collapsible: false, size: "51px"}, {collapsible: false}, {collapsible: true, size: "180px" }]' style="height: 100%; border: none; box-shadow: none; webkit-box-shadow: none;  background-color: #e8e8e8;">

      <div id="ideHeaderPartId" class="ideSplitterOverflowVisible">
        <div class="ideHeader h-100">

          <nav class="navbar navbar-expand-sm navbar-light bg-light py-0 h-100">
            <div class="navbar-collapse w-100 order-md-0">
              <ul class="navbar-nav mr-auto">

                <li class="nav-item">
                  <a class="btn btn-default btn-sm mr-1" ng-click="navBarClick('home')" title="Zurück zur Übersicht">
                    <i class="fas fa-home"></i>
                  </a>
                </li>

                <li class="nav-item dropdown">
                  <a class="dropdown-toggle btn btn-default btn-sm mr-1" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="projectButton">
                    <i class="fas fa-sliders-h"></i>
                  </a>
                  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a id="addFileButton" class="dropdown-item w-auto" ng-click="navBarClick('add_file')">Add file</a>
                    <a class="dropdown-item w-auto" ng-click="navBarClick('add_folder')">Add folder</a>
                    <a class="dropdown-item w-auto" ng-click="navBarClick('rename_node')">Rename file/folder</a>
                    <a class="dropdown-item w-auto" ng-click="navBarClick('add_image')">Add Image</a>

                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item w-auto" ng-click="navBarClick('remove_node')">Delete file/folder</a>

                    <div ng-show="currentRoleIsOwner()" class="dropdown-divider"></div>
                    <a class="dropdown-item w-auto" ng-show="currentRoleIsOwner()" ng-click="navBarClick('hide_file')">Hide/Unhide file</a>
                    <a class="dropdown-item w-auto" ng-show="currentRoleIsOwner()" ng-click="navBarClick('make_file_static')">Make file static or not</a>

                    <div ng-show="userAllowedToSave() && !isActionHidden('save')" class="dropdown-divider"></div>
                    <a class="dropdown-item w-auto" ng-show="userAllowedToSave() && !isActionHidden('save')" ng-click="navBarClick('save_project')">Save changes</a>

                    <div ng-show="currentRoleIsOwner()" class="dropdown-divider"></div>
                    <a class="dropdown-item w-auto" ng-show="currentRoleIsOwner()" ng-click="navBarClick('show_share_project')">Share project</a>
                  </div>
                </li>

                <li class="nav-item">
                  <a class="btn btn-default btn-sm mr-1" ng-if="userAllowedToSave() && !isActionHidden('save')" ng-click="navBarClick('save_project')" ng-class="{'unsavedChanges': isProjectModified}" title="Save Project">
                    <i class="fas fa-save"></i>
                  </a>
                </li>

                <li class="nav-item">
                  <a class="btn btn-default mr-1 btn-sm" ng-if="!isActionHidden('unredo')" ng-click="ace.editor.getSession().getUndoManager().undo(false)" title="Undo">
                    <i class="fas fa-undo"></i>
                  </a>
                </li>

                <li class="nav-item">
                  <a class="btn btn-default btn-sm" ng-if="!isActionHidden('unredo')" ng-click="ace.editor.getSession().getUndoManager().redo(false)" title="Redo">
                    <i class="fas fa-redo"></i>
                  </a>
                </li>

                <li class="nav-item mx-2"></li>

                <li class="nav-item" ng-show="isCompileAndRun() && isCompilationNeeded()" ng-disabled="disabledActions.compile">
                  <a id="compileAndRunButton" class="btn btn-warning btn-sm mr-1" ng-if="!isActionHidden('compile')"  ng-click="navBarClick('compileAndRun')" title="Compile and Run this program">
                    <i class="fas fa-play mr-1"></i> <span class="d-none d-lg-inline-block">Run</span>
                  </a>
                </li>
                <li class="nav-item" ng-if="!isActionHidden('compile')" ng-show="!isCompileAndRun() && isCompilationNeeded()" ng-disabled="disabledActions.compile">
                  <a id="compileButton" class="btn btn-warning btn-sm mr-1"  ng-click="navBarClick('compile')" title="Compile this program">
                    <i class="fas fa-cog mr-1"></i> <span class="d-none d-lg-inline-block">Compile</span>
                  </a>
                </li>
                <li class="nav-item" ng-if="!isActionHidden('compile')" ng-show="!isCompilationNeeded()" ng-disabled="disabledActions.compile">
                  <a id="compileRunBtn" class="btn btn-warning btn-sm mr-1"  ng-click="navBarClick('compileDynamic')" title="Run this program">
                    <i class="fas fa-play mr-1"></i> <span class="d-none d-lg-inline-block">Run</span>
                  </a>
                </li>
                <li class="nav-item" ng-if="!isActionHidden('compile')" ng-show="!isCompileAndRun() && isCompilationNeeded()" ng-disabled="disabledActions.run">
                  <a id="runButton" class="btn btn-default btn-sm mr-1" ng-click="navBarClick('run')" title="Run the last compiled program">
                    <i class="fas fa-play mr-1"></i> <span class="d-none d-lg-inline-block">Run</span>
                  </a>
                </li>
                <li class="nav-item" ng-if="!isActionHidden('compile')" ng-hide="hiddenActions.stop">
                  <a id="stopBtn" class="btn btn-default btn-sm mr-1" ng-click="navBarClick('stop')" title="Stop this program">
                    <i class="far fa-times-circle mr-1"></i> <span class="d-none d-lg-inline-block">Stop</span>
                  </a>
                </li>
                <li class="nav-item" ng-if="!isActionHidden('test')" ng-disabled="disabledActions.test" ng-show="isTestSupported()">
                  <a id="ideTestButton" class="btn btn-success btn-sm mr-1"  ng-click="navBarClick('test')"  title="Run the tests of this project">
                    <i class="fas fa-clipboard-check mr-1"></i> <span class="d-none d-lg-inline-block">Test</span>
                  </a>
                </li>
                <li class="nav-item" ng-if="!isActionHidden('tool')" ng-disabled="disabledActions.tool" ng-show="isToolSupported()">
                  <a id="ideToolButton" class="btn btn-default btn-sm mr-1" ng-click="navBarClick('tool')"  title="Analyze this project">
                    <i class="fas fa-clipboard-check mr-1"></i> <span class="d-none d-lg-inline-block">Analyze</span>
                  </a>
                </li>
                <li class="nav-item" ng-if="!isActionHidden('submit')" ng-show="uiSettings.showSubmissionBtn" ng-disabled="disabledActions.submit || uiSettings.disableSubmissionBtn">
                  <a class="btn btn-primary btn-sm mr-1"  ng-click="navBarClick('submit')" title="Submit this project">
                    <i class="fas fa-paper-plane mr-1"></i> <span class="d-none d-lg-inline-block" ng-hide="uiSettings.disableSubmissionBtn">Submit</span> <span class="hidden-xs" ng-show="uiSettings.disableSubmissionBtn">Aufgabe gelöst</span>
                  </a>
                </li>
              </ul>
            </div>

            <div class="mx-auto">
              <div class="projectTitle {{getCurrentRole()}} d-none d-md-block">
                <i class="fas fa-question-circle mr-2 fa-sm" ng-show="currentRoleIsHelp()"></i>
                <i class="fas fa-graduation-cap mr-2 fa-sm" ng-show="currentRoleIsSubmission()"></i>
                <i class="far fa-user mr-2" ng-show="currentRoleIsUserProject()" ></i>
                <span title="{{projectName}}" >{{projectName}}</span>
              </div>
              <div class="projectTitleSm d-block d-md-none">
                <span title="{{projectName}}">{{projectName}}</span>
              </div>
            </div>

            <div class="navbar-collapse w-100">
              <ul class="navbar-nav ml-auto">
                <li class="nav-item" ng-hide="currentRoleIsOwner()">
                  <a class="btn btn-info btn-sm nav-link mr-1" ng-if="!isActionHidden('help')" ng-click="navBarClick('help')" title="Hilfe anfordern">
                    <i class="far fa-question-circle"></i> <span class="hidden-xs">Ich brauche Hilfe</span>
                  </a>
                </li>
                <li class="nav-item" ng-hide="currentRoleIsOwner()" ng-if="!isActionHidden('reset')">
                  <a class="btn btn-default btn-sm mr-1" ng-click="navBarClick('reset')">
                    <span>Original wiederherstellen</span>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="btn btn-default btn-sm mr-1" ng-if="!isActionHidden('full-screen')" ng-click="fullscreenCtrl.toggleFullscreen()" show-if-fullscreen-enabled>
                    <i class="fas fa-expand-alt" show-if-fullscreen=false title="In den Vollbildmodus wechseln"></i>
                    <i class="fas fa-compress-alt" show-if-fullscreen=true title="Vollbildmodus schliessen"></i>
                  </a>
                </li>
                <li class="nav-item" ng-if="!isActionHidden('editor-settings')">
                  <a class="btn btn-default btn-sm mr-1" ng-click="navBarClick('show_editor_settings')" role="button">
                    <i class="fas fa-cog" title="Change editor settings"></i>
                  </a>
                </li>
              </ul>
            </div>
          </nav>
        </div>
      </div>

      <div id="ideMiddlePartId" class="ideSplitterOverflowVisible">
        <!-- the inner split part; left is the tree view, right is the editor -->
        <div kendo-splitter="splitter" k-orientation="'horizontal'" k-panes='{{kPanes}}' id="innerSplitPart" ng-controller="RightBarCtrl" class="ideSplitterOverflowVisible ideSplitterFullHeight">

            <div id="ideTreeviewPartOfMiddlePart" ng-if="!isActionHidden('tree-view')" class="ideSplitterOverflowVisible">
              <!-- everything related to the tree view -->

              <div kendo-splitter k-orientation="'vertical'" k-panes="[{resizable: false, size: '29px'},{}]" class="ideSplitterOverflowVisible ideSplitterFullHeight">

                <!-- the project name -->
                <div id="ideTreeViewProjectName">
                  {{projectName}}
                </div>

                <!-- the tree view -->
                <div ng-controller="TreeCtrl" ng-init="init()" class="ideTree">
                  <div
                    data-angular-treeview="true"
                    data-tree-id="mytree"
                    data-tree-model="projectNodes"
                    data-node-id="uniqueId"
                    data-node-label="filename_annotated"
                    data-node-is-folder="isFolder"
                    data-node-children="children"
                    data-node-click="nodeClick">
                  </div>
                </div>

                <!-- end of the select box that lists library interface files -->
              </div> <!-- end of splitter that splits everything related to the tree view (projectname, treeview, library select box -->

            </div> <!-- end of left-part split-->

            <div id="ideRightPartOfMiddlePart"> <!-- begin of right-part of the middle part, that is the editor and tabs -->
              <!-- everything related to the editor -->
                <div ng-controller="TabCtrl" id="ideTabArea"> <!-- the tabs -->
                  <ul class="ideTabs">
                    <li ng-repeat="tab in tabs" ng-class="{ideTabActive: tab.isActive, ideTabStatic: tab.isStatic}" ng-click="selectClick(tab.arrayIndex)" style="float: left;">
                      <i ng-show="tab.isStatic" title="Dieser Tab kann nicht bearbeitet werden" class="isStatic-icon glyphicon glyphicon-eye-open"></i>
                      <span title="{{tab.title}}">{{tab.name}}</span>
                      <span class="remove glyphicon glyphicon-remove" ng-click="closeClick(tab.arrayIndex)"></span>
                    </li>
                  </ul>
                </div>

                <div id="ideEditorAndConsole" kendo-splitter="splitter" k-orientation="'vertical'" k-panes="[{ collapsible: false }, { collapsible: false, size: '120px' }]">

                    <div class="ideEditorArea">

                      <div class="ideEditorImage" ng-show="ace.isImage">
                        <img alt="{{ace.image}}" ng-src="{{ace.image}}" /><br>
                        <input class="image-src-field" type="text" value="{{ace.image}}" />
                      </div>

                      <div ng-hide="ace.isVisible" id="ideAceNotVisible">
                        <div id="ideMsgNoFilesOpen">No files are open.<br>Click on a file from the project tree.</div>
                        <div id="ideMsgNotSignedIn" class="alert alert-warning" ng-hide="signinSettings.userIsAuthenticated()">
                          <strong>You're not signed in.</strong><br><a ng-href="{{signinSettings.signinPathWithRedirect()}}">Sign in now </a> to save your progress or load your previously saved version.
                        </div>
                      </div>

                      <!-- the ace editor -->
                      <!-- note: don't use ng-model as it updates too slowly. Access the session value directly instead. -->
                      <div class="ideEditor" ng-show="ace.isVisible" ng-hide="ace.isImage" id="ace_editor" ui-ace="{
                        showGutter: true,
                        useWrapMode: false,
                        theme: 'eclipse',
                        onLoad: aceLoaded}">
                      </div>
                    </div>
                    <!-- end of everything related to the editor -->

                    <div class="ideFooter"> <!-- the lower part of splitter area, where the terminal lives -->

                        <div scroll-glue class="ideOutput ideOutputText ideOutputBorder" ng-focus-child="#idFooterUserInput">
                            <span class="console-output" ng-bind-html="output"></span>
                            <div class="ideUserInput">
                              <input type="text" id="idFooterUserInput" ng-select-on-focus [ng-value]="userInputData" ng-model="userInputData" ng-enter="sendUserInputClick(userInputData, 'idFooterUserInput')" class="ideOutputText ideOutputBorder" autocomplete="off"/>
                            </div>
                            <div ng-show="programmIsRunning" class="console-spinner">
                              <div class="text-center">
                                <span class="spinner-grow"></span>
                              </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div> <!-- end of right-part of the middle part, that is the editor and tabs -->

            <div id="ideRighterPartOfMiddlePart" ng-if="isNavBarRightActive()" class="ideSplitterFullHeight" style="overflow: hidden">
              <div class="ide-tabs" ng-repeat="tab in rightBarTabs" ng-include="tab.contentURL" ng-show="isTabActive(tab.slug)"></div>
            </div>

            <div id="ideRightestPartOfMiddlePart" ng-if="isNavBarRightActive()" class="ideSplitterFullHeight">
                <div class="ideAdditionalTabs">
                    <a tab-click ng-repeat="tab in rightBarTabs" ng-hide="tab.disabled" ng-click="rightBarTabClick(tab.slug)" class="tab tab-{{tab.slug}}" id="rightBarTabs{{tab.slug}}">
                        <span class="glyphicon {{tab.icon}}"></span>{{tab.title}}
                    </a>
                </div>
            </div>

        </div><!-- closing the high-level splitter in the middle part-->
      </div><!-- End of the middle part, where left is the tree view etc., right is the editor etc. -->
    </div><!-- closing the outermost splitter that splits into header, middle, and footer -->

    <!-- the status bar on the bottom of the page, showing username, role, info etc.-->
    <div style="height: 3px; background-color: #f5f5f5;"></div>
    <div ng-controller="IdeFooterStatusBarCtrl" class="ideFooterStatusBar" ng-hide="isUsingLti() && !currentRoleIsOwner()">
      <span ng-bind-html="getUsername()"></span>
      <span style="margin-left: 20px;">Role: {{getRole()}}</span>
      <span style="margin-left: 20px;" ng-show="isUsingLti()">Info: Submissions are forwarded to external platform</span>
      <span class="pull-right"><a style="margin-left: 20px;" href="/">Codeboard</a></span>
    </div>

    <div id="modalAppendTo"></div>

  </div>

  <!-- End of Kendo splitter layout -->


  <!-- the modal window used to add a file or folder -->
  <div ng-controller="IdeNodeActionCtrl">
    <script type="text/ng-template" id="ideNewNodeModal.html">
      <div class="modal-header">
        <h3>{{labels.heading}}</h3>
      </div>
      <form class="form" name="ideAddNodeForm" ng-submit="submit(data)">
        <div class="modal-body">

          <div class="form-group">
            <p>{{labels.label}}</p>
            <input type="text" name="dataNodeName" ng-model="data.nodeName" ng-pattern="isValid" autofocus style="width: 100%;" required/>
            <p class="help-block" ng-show="ideAddNodeForm.dataNodeName.$error.pattern">
              {{getFormDataErrorMsg()}}
            </p>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" id="okAddFileNameButton" class="btn btn-primary" ng-disabled="ideAddNodeForm.dataNodeName.$error.pattern">{{labels.btnOk}}</button>
          <button class="btn btn-warning" ng-click="cancel()">{{labels.btnCancel}}</button>
        </div>
      </form>
    </script>
  </div>
  <!-- end of modal window -->

  <!-- the modal window used to add a file or folder -->
  <div ng-controller="IdeImageActionCtrl">
    <script type="text/ng-template" id="ideNewImageModal.html">
      <div class="modal-header">
        <h3>Bild hinzufügen</h3>
      </div>
      <form class="form" name="ideAddImageForm" ng-submit="submit(data)" enctype="multipart/form-data">
        <div class="modal-body">

          <div class="form-group">
            <p>Bild auswählen und diesem Projekt hinzufügen.</p>
            <input type="file" name="dataImage" ng-model="data.image" ng-file-select="onFileSelect($files)" />
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" id="okAddImageNameButton" class="btn btn-primary">Bild hinzufügen</button>
          <button class="btn btn-warning" ng-click="cancel()">Abbrechen</button>
        </div>
      </form>
    </script>
  </div>
  <!-- end of modal window -->

  <!-- the modal window for asking anonymous users if they really want to submit -->
  <div>
    <script type="text/ng-template" id="ideConfirmAnonymousSubmissionModal.html">
      <div class="modal-header">
        <h3 class="modal-title">Du bist nicht eingeloggt</h3>
      </div>
      <div class="modal-body">
        <p class="lead">
          Versuche die Aufgabe neu zu landen.
          Bleibt der Fehler bestehen, wende dich bitte an den Kursleiter.
        </p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" ng-click="cancel()">Zurück zur Aufgabe</button>
      </div>
    </script>
  </div>
  <!-- end of the modal window -->

  <!-- the modal window for asking if the user really wants to overwritte his/her code -->
  <div>
    <script type="text/ng-template" id="ideConfirmResetModal.html">
      <div class="modal-header">
        <h3 class="modal-title">Original wiederherstellen?</h3>
      </div>
      <div class="modal-body">
        <p class="lead">Möchtest du deinen Code durch den ursprünglichen Code ersetzen?</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-danger" ng-click="ok()">Ja, überschreiben</button>
        <button class="btn btn-default" ng-click="cancel()">Abbrechen</button>
      </div>
    </script>
  </div>
  <!-- end of the modal window -->

  <!-- the modal window that is shown after submitting a solution -->
  <div>
    <script type="text/ng-template" id="ideSubmitModal.html">
      <ul class="chat p-0">
        <li class="clear chat-line my-4 clearfix card">
          <div class="chat-avatar" style="float: left;">
            <div style="float: right">
              <img src="{{getAvatar()}}" width="90px" height="90px">
            </div>
          </div>
          <div class="chat-message" style="float: left;">
            <div class="chat-line-card left submission float-right w-100">
              <div class="card-header">
                <span class="ng-binding">{{title}}</span>
              </div>
              <div class="card-body">

                <p>{{textBeforeResult}}</p>

                <div class="progress">
                  <div class="progress-bar" style="background: #3da956" role="progressbar" ng-style="{'width': progress + '%'}" aria-valuenow="{{progress}}" aria-valuemin="0" aria-valuemax="100">
                    <span class="numTestsPassed"><b>{{numTestsPassed}}</b> &#10004;</span>
                  </div>
                  <div class="progress-bar" style="background: #ab5c5c" role="progressbar" ng-style="{'width': (100 - progress) + '%'}" aria-valuenow="{{(100 - progress)}}" aria-valuemin="0" aria-valuemax="100">
                    <span ng-show="hasResult" class="numTestsFailed"><b>{{numTestsFailed}}</b> X</span>
                    <span ng-hide="hasResult" class="progress-loading-icon glyphicon glyphicon-repeat gly-spin" aria-hidden="true"></span>
                  </div>
                </div>

                <p>{{textAfterResult}}</p>

                <div class="chat-line-buttons text-right mt-4">
                  <button class="btn btn-default" ng-click="close()">Zurück zur Aufgabe</button>
                  <button class="btn btn-info" ng-show="hasSampleSolution() && passed" ng-click="openSampleSolution()">Musterlösung anzeigen</button>
                  <button class="btn btn-success" ng-show="passed" ng-click="goToCourse()">Zur Kursübersicht</button>
                  <button class="btn btn-info" ng-if="!isActionHidden('help')" ng-show="!passed" ng-click="requestHelp()">Hilfe Anfordern</button>
                </div>
              </div>
            </div>
          </div>
          </div>
        </li>
      </ul>
    </script>
  </div>



  <!-- the modal window for showing the "Share project" information -->
  <div>
    <script type="text/ng-template" id="ideShareProjectModal.html">
      <div class="modal-header">
        <h3 class="modal-title">Share project</h3>
      </div>
      <div class="modal-body">
        <p class="lead" style="margin-bottom: 10px;">
          Url to share this project with others:
        </p>
        <form>
          <input type="text" ng-model="form.inputText" readonly class="lead" style="width:100%; margin-bottom: 2px; color: #337ab7;"><br>
          <input type="checkbox" ng-model="form.inputCheckbox" ng-change="checkboxChanged()" style="font-weight: 300; line-height: 1.4"> Automatically reopen the files currently displayed in the editor.
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" ng-click="closeModal()">Close</button>
      </div>
    </script>
  </div>
  <!-- end of the modal window -->

  <!-- the modal window used to change the settings of the editor -->
  <div>
      <script type="text/ng-template" id="ideEditorSettingsModal.html">
          <div class="modal-header">
              <h3>Editor settings</h3>
            <p style="font-size: 10px;color: #a9a9a9">Editor settings are not persisted and therefore lost when reloading/closing the project.</p>

          </div>
          <div class="modal-body">
              <!-- Bug: autofocus only set the first time around. See: https://github.com/angular-ui/bootstrap/pull/2945-->
            <form>
              <div class="form-group">
                <label>Theme</label>
                <select class="form-control" ng-model="editorSettings.theme" required>
                  <option>ambiance</option>
                  <option>chaos</option>
                  <option>chrome</option>
                  <option>clouds</option>
                  <option>clouds_midnight</option>
                  <option>cobalt</option>
                  <option>crimson_editor</option>
                  <option>theme-dawn</option>
                  <option>dreamweaver</option>
                  <option>eclipse</option>
                  <option>github</option>
                  <option>idle_fingers</option>
                  <option>katzenmilch</option>
                  <option>kr_theme</option>
                  <option>kuroir</option>
                  <option>merbivore</option>
                  <option>merbivore_soft</option>
                  <option>mono_industrial</option>
                  <option>monokai</option>
                  <option>pastel_on_dark</option>
                  <option>solarized_dark</option>
                  <option>solarized_light</option>
                  <option>terminal</option>
                  <option>textmate</option>
                  <option>tomorrow</option>
                  <option>tomorrow_night</option>
                  <option>tomorrow_night_blue</option>
                  <option>tomorrow_night_bright</option>
                  <option>tomorrow_night_eighties</option>
                  <option>twilight</option>
                  <option>vibrant_ink</option>
                  <option>xcode</option>
                </select>
              </div>

              <div class="form-group">
                <label>Font size</label>
                <select class="form-control" ng-model="editorSettings.fontSize" required>
                  <option>8px</option>
                  <option>9px</option>
                  <option>10px</option>
                  <option>11px</option>
                  <option>12px</option>
                  <option>13px</option>
                  <option>14px</option>
                  <option>15px</option>
                  <option>16px</option>
                  <option>17px</option>
                  <option>18px</option>
                  <option>20px</option>
                  <option>22px</option>
                  <option>24px</option>
                </select>
              </div>

              <div class="form-group">
                <label>Keyboard handler</label>
                <select class="form-control" ng-model="editorSettings.handler" required>
                  <option>ace</option>
                  <option>vim</option>
                  <option>emacs</option>
                  <!--option>textarea</option>
                  <option>sublime</option>-->
                </select>
              </div>

              <!--<div class="form-group">
                <label>Tab size</label>
                <select class="form-control" ng-model="editorSettings.tabSize" required>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                  <option>6</option>
                  <option>7</option>
                  <option>8</option>
                </select>
              </div>-->

              <div class="form-group">
                <label>Invisible characters</label>
                <select class="form-control" ng-model="editorSettings.invisibles" required>
                  <option>Show</option>
                  <option>Hide</option>
                </select>
              </div>

              <div class="form-group">
                <label>Gutter</label>
                <select class="form-control" ng-model="editorSettings.gutter" required>
                  <option>Show</option>
                  <option>Hide</option>
                </select>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">Apply settings</button>
            <button class="btn btn-primary" ng-click="preview()">Preview</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>

          </div>
      </script>
  </div>
  <!-- end of the modal window -->

  <!-- todo alte Tests löschen -->
  <!-- the modal window for showing the "Test project" information -->
  <div>
    <script type="text/ng-template" id="ideTestProjectModal.html">
      <div class="modal-header">
        <button type="button" class="close" ng-click="closeModal()">&times;</button>
        <h4 class="modal-title">Deine Lösung wird überprüft</h4>
      </div>
      <div class="modal-body">

        <!-- Spinner  -->
        <div ng-show="tests.length === 0" class="text-center">
          <span class="spinner-grow"></span>
        </div>

        <!-- Accordion with ioTests -->
        <div class="panel-group modalAccordion" id="ioTestsAccordion">
          <div ng-repeat="test in tests" class="panel panel-default {{test.method}}">
            <div class="panel-heading {{test.status}}">
              <a data-target="#ioTest{{$index}}" data-toggle="collapse" data-parent="#ioTestsAccordion">
                <span class="title" title="{{test.name}}">{{test.name}}</span>
                <span ng-class="{'gly-spin': (test.status === 'processing')}" class="pull-right flag glyphicon {{test.status}}" aria-hidden="true"></span>
              </a>
            </div>

            <div id="ioTest{{$index}}" class="panel-collapse collapse">
              <div ng-include="getTestMethodOutput(test.method)"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn btn-default" ng-click="closeModal()">
          Test beenden
        </button>

        <button ng-show="(testResult !== 1)" class="btn btn-info" ng-disabled="disabledActions.help" ng-click="closeModal(); helpAfterTest()" title="Hilfe anfordern">
          <span class="glyphicon glyphicon-question-sign"></span> Ich brauche Hilfe
        </button>

        <button ng-show="(testResult === 1)" class="btn btn-primary" ng-disabled="disabledActions.submit" ng-click="closeModal(); submitAfterTest()" title="Submit this project" disabled="disabled">
          <span class="glyphicon glyphicon-send"></span> Submit
        </button>
      </div>
    </script>
  </div>
  <!-- end of modal window -->

</div>


