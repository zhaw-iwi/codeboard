<div class="tab-body ide-tab-help ide-tab-chat" ng-controller="ideNavBarRightQACtrl" id="chat-wrapper">
  <h1 class="modal-title">Hier kannst du Fragen an den Dozierenden stellen</h1>

  <div class="conversation">
    <chat chat-lines="newestQAChatLines" class="px-4">
      <before-chat>
        <li class="clear chat-line my-4 clearfix text">
          <chat-line author="Roby" avatar-size="" alignment="left">
            <chat-line-simple>
              <p class="mb-0">{{qaInfoChatBoxTxt}}</p>
            </chat-line-simple>
          </chat-line>
        </li>
        <div class="text-center">
          <button ng-show="!sendRequestFormVisible" class="btn btn-info" ng-click="showSendRequestForm()">
            <span class="glyphicon glyphicon-question-sign"></span>
            Frage stellen
          </button>
        </div>

        <!-- the message Form -->
        <div ng-show="sendRequestFormVisible">
          <!-- the question form for users -->
          <form ng-show="currentRoleIsUser()" id="sendHelpRequest" class="text-center">
            <div class="form-floating mb-4">
              <textarea
                class="topic border-box p-4"
                style="width: 80%; height: 100px"
                ng-model="formData.noteStudent"
                name="noteStudent"
                placeholder="Erfasse hier deine Frage"
              ></textarea>
            </div>
            <div class="row">
              <div class="col-md-12 col-lg-6 text-center" style="margin-bottom: 10px">
                <!-- ask lecturer button -->
                <button type="button" class="btn btn-info" ng-click="askLecturer()">
                  <span class="glyphicon glyphicon-user"></span> Frage an Dozent senden
                </button>
              </div>
              <div class="col-md-12 col-lg-6 text-center" style="margin-bottom: 10px">
                <!-- ask chatbot button -->
                <button type="button" class="btn btn-info" ng-click="askChatbot()">
                  <span class="glyphicon glyphicon-comment"></span> KI-Assistenten fragen
                </button>
              </div>
            </div>
            <p class="text-danger mt-3">{{sendHelpFormErrors}}</p>
          </form>

          <!-- the answer form for owners -->
          <form
            ng-show="currentRoleIsHelp()"
            id="answerHelpRequest"
            class="form-inline text-center"
            ng-submit="answerHelpRequest()"
          >
            <div class="form-group mb-2">
              <textarea
                class="topic border-box p-4"
                style="width: 550px; height: 100px"
                ng-model="formData.noteTeacher"
                name="noteTeacher"
                placeholder="Antwort an den Studenten"
              ></textarea>
            </div>
            <div class="form-group w-100">
              <button class="btn btn-info">Nachricht senden</button>
              <p class="text-danger mt-3">{{sendHelpFormErrors}}</p>
            </div>
          </form>
        </div>
        <hr class="chat-horizontal-line" />
      </before-chat>
    </chat>
  </div>
  <!-- older chatboxes only displayed if needed -->
  <div ng-if="oldChatBoxes">
    <hr class="chat-horizontal-line" />
    <h2 class="modal-title">Ã„ltere Fragen und Antworten</h2>
    <div class="text-center">
      <button ng-show="!hideShowMore" class="btn btn-info" ng-click="showMore()">Q&A laden</button>
    </div>
    <div ng-show="displayOldChatBoxes" class="conversation">
      <chat chat-lines="oldQAChatLines" class="px-4" cursor-position="cursorPosition"></chat>
    </div>
    <div id="scroll-target-qa"></div>
  </div>
</div>
